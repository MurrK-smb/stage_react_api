(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/not-found.2a888afa.svg"},function(e,t,a){e.exports=a.p+"static/media/warning.8f424d3a.png"},function(e,t,a){e.exports=a.p+"static/media/NewsExplorer-White.bceb14e3.svg"},function(e,t,a){e.exports=a.p+"static/media/logout-white.7d75bcdd.svg"},function(e,t,a){e.exports=a.p+"static/media/NewsExplorer-Black.cba355a5.svg"},function(e,t,a){e.exports=a.p+"static/media/logout-black.9cbc93bd.svg"},function(e,t,a){e.exports=a.p+"static/media/author.864bab35.jpg"},function(e,t,a){e.exports=a.p+"static/media/github.61c63b32.svg"},function(e,t,a){e.exports=a.p+"static/media/header_background.65c06f96.png"},,function(e,t,a){e.exports=a(69)},,,,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(8),c=a.n(r),i=(a(29),a(6)),l=a(5),s=a(9),u=a(2),m=(a(31),a(10)),d=a.n(m),p=a(11),g=a.n(p),f=(a(33),a(4)),h=a(0),b=a(12),_=a.n(b),E=a(13),v=a.n(E),w=a(14),S=a.n(w),j=a(15),N=a.n(j),y=o.a.createContext(),O=function(e){var t=e.onSigninPopupClick,a=e.loggedIn,r=e.blackNavigator,c=e.handleLogout,i=e.toggleMenu,l=e.toggleNav,s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],p=m[1],g=Object(n.useState)(window.innerWidth),b=Object(u.a)(g,2),E=b[0],w=b[1],j=Object(n.useContext)(y),O=Object(h.f)(),k=r&&!i||E>700&&r,x=k?{color:"black",borderColor:"black"}:{color:"white",borderColor:"white"},C=function(){window.scrollY>=66?p(!0):p(!1)};return Object(n.useEffect)(function(){return C(),window.addEventListener("scroll",C),function(){return window.removeEventListener("scroll",C)}},[]),Object(n.useEffect)(function(){var e=function(){w(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),o.a.createElement("section",{className:"navigation ".concat(i&&E<700?"navigation_type_mobile":"")},o.a.createElement("nav",{className:"navigation__bar ".concat(d?"navigation__bar_type_scroll":""),style:i&&E<700?{backgroundColor:"#1A1B22"}:{}},o.a.createElement(f.b,{to:"/",className:"logo"},o.a.createElement("img",{src:k?S.a:_.a,alt:"NewsExplorer logo"})),(i||E>700)&&o.a.createElement("ul",{className:"navigation__links-wrapper"},o.a.createElement(f.b,{to:"/",className:"navigation__link               ".concat("/"===O.pathname?"navigation__link_type_focus":""),style:x},"Home"),o.a.createElement(f.b,{to:"/saved-news",className:"navigation__link navigation__link_type_saved ".concat(a?"":"navigation__disabled","\n              ").concat("/saved-news"===O.pathname?"navigation__link_type_focus":"","\n              "),style:x},"Saved articles"),o.a.createElement("button",{"aria-label":"signin",type:"button",className:"navigation__button navigation__button_type_signin ".concat(a?"navigation__disabled":""),onClick:t,style:x},"Sign in"),o.a.createElement("button",{"aria-label":"signout",type:"button",className:"navigation__button navigation__button_type_logout ".concat(a?"":"navigation__disabled"),onClick:c,style:x},j.name,o.a.createElement("img",{src:r&&!i?N.a:v.a,alt:"Logout logo",className:"navigation__logout-icon"}))),o.a.createElement("button",{onClick:l,className:"burgher-button\n          ".concat(r&&!i&&"burgher-button_type_black","\n          ").concat(i?"burgher-button_type_open":"burgher-button_type_white")})))},k=(a(35),a(37),function(e){var t=e.startLoadingNews,a=e.activateSearch,r=Object(n.useState)(""),c=Object(u.a)(r,2),i=c[0],l=c[1],s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],p=m[1];return o.a.createElement("form",{className:"search-form",onSubmit:function(e){i?(t(),e.preventDefault(),a({search:i}),p(!1)):(e.preventDefault(),p(!0))}},o.a.createElement("input",{type:"text",className:"search-form__input ".concat(d?"search-form__input_type_error":""),id:"search-input",name:"search",placeholder:d?"Please enter a keyword":"Enter topic",value:i,onChange:function(e){l(e.target.value)}}),o.a.createElement("button",{className:"search-form__button"},"Search"))}),x=function(e){var t=e.startLoadingNews,a=e.activateSearch;return o.a.createElement("header",{className:"header"},o.a.createElement("h1",{className:"header__title"},"What's going on in the world?"),o.a.createElement("p",{className:"header__subtitle"},"Find the latest news on any topic and save them in your personal account."),o.a.createElement(k,{startLoadingNews:t,activateSearch:a}))},C=(a(39),a(16)),T=a.n(C),L=function(){return o.a.createElement("main",{className:"main"},o.a.createElement("section",{className:"about"},o.a.createElement("img",{src:T.a,className:"about__image",alt:"A smartphone that is showing a dashboard"}),o.a.createElement("div",{className:"about__wrapper"},o.a.createElement("h2",{className:"about__title"},"About the author"),o.a.createElement("p",{className:"about__description"},"Hi everyone! I'm Nick. I'm a motivated and ambitious aspiring software engineer with a technical skillset of HTML, CSS and JavaScript as well as other technologies such as Node, SQL, MongoDB, and Express."),o.a.createElement("p",{className:"about__description"},"I\u2019m a driven person and extremely versatile. I work well under pressure and am eager to share my new coding passion with the world."))))},I=(a(41),a(17)),A=a.n(I),U=function(){var e=(new Date).getFullYear();return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 ",e," NewsExplorer - Powered by News API"),o.a.createElement("nav",{className:"footer__wrapper"},o.a.createElement(f.b,{to:"/",className:"footer__link"},"Home"),o.a.createElement("a",{href:"https://timothyrusso.tech/",target:"_blank",rel:"noreferrer",className:"footer__link footer__link_type_mobile"},"Portfolio"),o.a.createElement("ul",{className:"footer__icon-wrapper"},o.a.createElement("a",{href:"https://github.com/murrk-smb",target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:A.a,className:"footer__icon",alt:"GitHub logo"})))))},F=(a(43),function(e){var t=e.isOpen,a=e.name,r=e.onClose,c=e.infoTooltip,i=e.children;Object(n.useEffect)(function(){if(t){var e=function(e){"Escape"===e.key&&r()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}},[t,r]);return o.a.createElement("div",{className:"popup ".concat(t?"popup_opened":""," popup_type_").concat(a),onClick:function(e){e.target===e.currentTarget&&r()}},o.a.createElement("div",{className:"popup__container"},i,o.a.createElement("button",{"aria-label":"Close",type:"button",className:"close-button ".concat(c?"close-button_type_info":""),onClick:r})))}),M=(a(45),function(e){var t=e.name,a=e.onSubmit,r=e.onFormUpdate,c=e.children,i=Object(n.useRef)();return o.a.createElement("form",{action:"#",className:"popup__form",name:"myForm".concat(t),onSubmit:a,ref:i,onChange:function(){var e=i.current.checkValidity();r(e)}},c)}),P=(a(47),a(49),function(e){var t=e.onSwitch,a=e.popupRedirectText;return o.a.createElement("p",{className:"form-redirect"},"or"," ",o.a.createElement("button",{"aria-label":"test",type:"button",className:"form-redirect_type_link",onClick:t},a))}),R=function(e){var t=e.name,a=e.title,n=e.isOpen,r=e.onClose,c=e.onSwitch,i=e.popupRedirectText,l=e.buttonText,s=e.onSubmit,u=e.loadingText,m=e.isLoadingText,d=e.formValidity,p=e.onFormUpdate,g=e.children;return o.a.createElement(F,{isOpen:n,name:t,onClose:r},o.a.createElement(M,{name:"myForm".concat(t),onSubmit:s,onFormUpdate:p},o.a.createElement("h2",{className:"popup__title"},a),g,o.a.createElement("button",{type:"submit",className:"submit-button popup__button ".concat(d?"":"submit-button_disabled"),disabled:!d},m?u:l),o.a.createElement(P,{onSwitch:c,popupRedirectText:i})))},B=(a(51),function(e){var t=e.type,a=e.idName,n=e.name,r=e.fieldName,c=e.placeholder,i=e.onChange,l=e.minLength,s=e.maxLength,u=e.value,m=e.errorMessage,d=e.labelText;return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:a,className:"popup__input-label"},d),o.a.createElement("input",{type:t,id:a,name:n,className:"popup__input popup__input_".concat(r),placeholder:c,required:!0,minLength:l,maxLength:s,value:u,onChange:i}),o.a.createElement("span",{id:"".concat(a,"-error"),className:"popup__input_type_error"},m[n]))}),z=(a(53),function(e){var t=e.popupServerError;return o.a.createElement("p",{className:"popup-server-error"},t)}),D=function(e){var t=e.isOpen,a=e.onClose,r=e.onSwitch,c=e.popupRedirectText,i=e.isLoadingText,l=e.startLoadingText,s=e.formValidity,m=e.onFormUpdate,d=e.onInputUpdate,p=e.errorMessage,g=e.handleLoginSubmit,f=e.popupServerError,h=Object(n.useState)(""),b=Object(u.a)(h,2),_=b[0],E=b[1],v=Object(n.useState)(""),w=Object(u.a)(v,2),S=w[0],j=w[1];return Object(n.useEffect)(function(){E(""),j("")},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{name:"signin",title:"Sign in",isOpen:t,onClose:a,onSwitch:r,popupRedirectText:c,buttonText:"Sign in",loadingText:"Loading..",isLoadingText:i,onSubmit:function(e){l(),e.preventDefault(),g(S,_)},formValidity:s,onFormUpdate:m,popupServerError:f},o.a.createElement(B,{type:"email",idName:"email-signin-input",name:"email",fieldName:"field_email",placeholder:"Enter email",value:_,onChange:function(e){d(e),E(e.target.value)},errorMessage:p,labelText:"Email"}),o.a.createElement(B,{type:"password",idName:"password-signin-input",name:"password",fieldName:"field_password",placeholder:"Enter password",minLength:"8",maxLength:"20",value:S,onChange:function(e){d(e),j(e.target.value)},errorMessage:p,labelText:"Password"}),o.a.createElement(z,{popupServerError:f})))},J=function(e){var t=e.isOpen,a=e.onClose,r=e.onSwitch,c=e.popupRedirectText,i=e.isLoadingText,l=e.startLoadingText,s=e.formValidity,m=e.onFormUpdate,d=e.onInputUpdate,p=e.errorMessage,g=e.handleRegisterSubmit,f=e.popupServerError,h=Object(n.useState)(""),b=Object(u.a)(h,2),_=b[0],E=b[1],v=Object(n.useState)(""),w=Object(u.a)(v,2),S=w[0],j=w[1],N=Object(n.useState)(""),y=Object(u.a)(N,2),O=y[0],k=y[1];return o.a.useEffect(function(){E(""),j(""),k("")},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{name:"signup",title:"Sign up",isOpen:t,onClose:a,onSwitch:r,popupRedirectText:c,buttonText:"Sign up",loadingText:"Saving..",isLoadingText:i,onSubmit:function(e){l(),e.preventDefault(),g(_,S,O)},formValidity:s,onFormUpdate:m},o.a.createElement(B,{type:"email",idName:"email-input",name:"email",fieldName:"field_email",placeholder:"Enter email",value:_,onChange:function(e){d(e),E(e.target.value)},errorMessage:p,labelText:"Email"}),o.a.createElement(B,{type:"password",idName:"password-input",name:"password",fieldName:"field_password",placeholder:"Enter password",minLength:"8",maxLength:"20",value:S,onChange:function(e){d(e),j(e.target.value)},errorMessage:p,labelText:"Password"}),o.a.createElement(B,{type:"text",idName:"username-input",name:"username",fieldName:"field_username",placeholder:"Enter your username",minLength:"2",maxLength:"20",value:O,onChange:function(e){d(e),k(e.target.value)},errorMessage:p,labelText:"Username"}),o.a.createElement(z,{popupServerError:f})))},V=(a(55),function(e){var t=e.title,a=e.text,n=e.nothingFoundIcom;return o.a.createElement("div",{className:"nothing-found"},o.a.createElement("img",{src:n,alt:"Nothing found icon",className:"nothing-found__icon"}),o.a.createElement("h2",{className:"nothing-found__title"},t),o.a.createElement("p",{className:"nothing-found__text"},a))}),q=(a(57),function(e){var t=e.cards,a=e.keywordsList,r=Object(n.useContext)(y);return o.a.createElement("header",{className:"saved-news-header"},o.a.createElement("p",{className:"saved-news-header__intro"},"Saved articles"),o.a.createElement("h1",{className:"saved-news-header__title"},r.name,", you have ",t.length," saved articles"),a.length>=1&&o.a.createElement("p",{className:"saved-news-header__keywords"},"By keywords:\xa0",o.a.createElement("span",{className:"saved-news-header__keywords-bold"},a.length>=1&&a[0],a.length>=2&&", ".concat(a[1]),3===a.length&&", and ".concat(a[2]),a.length>3&&", and ".concat(a.length-2," other"))))}),H=(a(59),a(61),a(18)),G=a.n(H),W=function(e){var t=e.card,a=e.onSigninPopupClick,r=e.loggedIn,c=e.savedCard,i=e.handleBookmarkClick,l=e.handleDeleteArticles,s=e.checkSavedArticle,m=e.saveUnauthorizedUserCard,d=Object(n.useState)(!1),p=Object(u.a)(d,2),g=p[0],f=p[1],h=function(e){var t=new Date(e),a=t.getDate(),n=t.getFullYear(),o=t.getMonth()+1;return t.setMonth(o-1),t.toLocaleString("default",{month:"long"})+" "+a+", "+n}(c?t.date:t.publishedAt),b=c?t.image:t.urlToImage;return Object(n.useEffect)(function(){s(t)?f(!0):f(!1)},[r,t,s]),o.a.createElement("li",{className:"card"},c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card__keyword"},t.keyword),o.a.createElement("button",{"aria-label":"Delete",type:"button",className:"card__delete",onClick:function(){l(t)}}),o.a.createElement("dialog",{className:"card__tooltip card__tooltip_type_delete"},"Remove from saved")),!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{"aria-label":"Favourite",type:"button",className:"card__favourite ".concat(g?"card__favourite_active":""),onClick:r?function(){i(t)}:function(){m(t),a()}}),!r&&o.a.createElement("dialog",{className:"card__tooltip"},"Sign in to save articles")),o.a.createElement("a",{href:c?t.link:t.url,target:"_blank",rel:"noreferrer"},o.a.createElement("div",{className:"card__image",style:{backgroundImage:"url(".concat(null!=b?b:G.a,")")},href:c?t.link:t.url})),o.a.createElement("div",{className:"card__content"},o.a.createElement("time",{className:"card__date"},h),o.a.createElement("a",{href:c?t.link:t.url,target:"_blank",rel:"noreferrer",className:"card__link-wrapper"},o.a.createElement("h3",{className:"card__title"},t.title)),o.a.createElement("a",{href:c?t.link:t.url,target:"_blank",rel:"noreferrer",className:"card__link-wrapper"},o.a.createElement("p",{className:"card__text"},c?t.text:t.content)),o.a.createElement("a",{href:c?t.link:t.url,target:"_blank",rel:"noreferrer",className:"card__link-wrapper"},o.a.createElement("p",{className:"card__source"},c?t.source:t.source.name))))},Y=function(e){var t=e.cards,a=e.savedCard,n=e.handleDeleteArticles,r=e.checkSavedArticle,c=e.saveUnauthorizedUserCard;return o.a.createElement("section",{className:"saved-news"},o.a.createElement("ul",{className:"search-result-grid"},t.map(function(e){return o.a.createElement(W,{key:e._id,card:e,savedCard:a,handleDeleteArticles:n,checkSavedArticle:r,saveUnauthorizedUserCard:c})})))},K=a(19),Q=function(e){var t=e.children,a=Object(K.a)(e,["children"]);return a.loggedIn?t:o.a.createElement(h.a,{to:a.path})},X=(a(63),function(e){var t=e.isOpen,a=e.onClose,n=e.openSignin;return o.a.createElement(F,{isOpen:t,onClose:a,infoTooltip:!0},o.a.createElement("div",{className:"info-tooltip"},o.a.createElement("p",{className:"info-tooltip__text"},"Registration successfully completed!"),o.a.createElement("button",{"aria-label":"signin",type:"button",className:"info-tooltip__button",onClick:n},"Sign in")))}),Z=(a(65),function(){return o.a.createElement("div",{className:"preloader"},o.a.createElement("i",{className:"circle-preloader"}),o.a.createElement("p",{className:"preloader__text"},"Searching for news..."))}),$=(a(67),function(e){var t=e.onSigninPopupClick,a=e.loggedIn,n=e.newsArticles,r=e.showMoreResults,c=e.showMoreButtonLogic,i=e.handleBookmarkClick,l=e.checkSavedArticle,s=e.saveUnauthorizedUserCard;return o.a.createElement("section",{className:"news-card-list"},o.a.createElement("h2",{className:"news-card-list__title"},"Search results"),o.a.createElement("ul",{className:"search-result-grid"},n.map(function(e){return o.a.createElement(W,{key:e.url+Math.floor(1e3*Math.random()),card:e,onSigninPopupClick:t,loggedIn:a,handleBookmarkClick:i,checkSavedArticle:l,saveUnauthorizedUserCard:s})})),c&&o.a.createElement("button",{"aria-label":"ShowMore",type:"button",className:"show-more-button",onClick:r},"Show more"))}),ee=function(e){return e.ok?(console.log("URL: ".concat(e.url,"\nStatus: ").concat(e.statusText,"\nStatus code: ").concat(e.status)),e.json()):Promise.reject("Error: ".concat(e.status))},te="https://api.newsexplorer-timothyrusso.students.nomoreparties.sbs",ae=function(e){return e.ok?(console.log("URL: ".concat(e.url,"\nStatus: ").concat(e.statusText,"\nStatus code: ").concat(e.status)),e.json()):Promise.reject("Error: ".concat(e.status))},ne=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),m=Object(u.a)(c,2),p=m[0],f=m[1],b=Object(n.useState)(!1),_=Object(u.a)(b,2),E=_[0],v=_[1],w=Object(n.useState)(!1),S=Object(u.a)(w,2),j=S[0],N=S[1],k=Object(n.useState)(!1),C=Object(u.a)(k,2),T=C[0],I=C[1],A=Object(n.useState)(!0),F=Object(u.a)(A,2),M=F[0],P=F[1],R=Object(n.useState)({}),B=Object(u.a)(R,2),z=B[0],H=B[1],G=Object(n.useState)(""),W=Object(u.a)(G,2),K=W[0],ne=W[1],oe=Object(n.useState)(!1),re=Object(u.a)(oe,2),ce=re[0],ie=re[1],le=Object(n.useState)(!1),se=Object(u.a)(le,2),ue=se[0],me=se[1],de=Object(n.useState)(!1),pe=Object(u.a)(de,2),ge=pe[0],fe=pe[1],he=Object(n.useState)(!1),be=Object(u.a)(he,2),_e=be[0],Ee=be[1],ve=Object(n.useState)(!1),we=Object(u.a)(ve,2),Se=we[0],je=we[1],Ne=Object(n.useState)([]),ye=Object(u.a)(Ne,2),Oe=ye[0],ke=ye[1],xe=Object(n.useState)([]),Ce=Object(u.a)(xe,2),Te=Ce[0],Le=Ce[1],Ie=Object(n.useState)(3),Ae=Object(u.a)(Ie,2),Ue=Ae[0],Fe=Ae[1],Me=Object(n.useState)(!1),Pe=Object(u.a)(Me,2),Re=Pe[0],Be=Pe[1],ze=Object(n.useState)({}),De=Object(u.a)(ze,2),Je=De[0],Ve=De[1],qe=Object(n.useState)(""),He=Object(u.a)(qe,2),Ge=He[0],We=He[1],Ye=Object(n.useState)([]),Ke=Object(u.a)(Ye,2),Qe=Ke[0],Xe=Ke[1],Ze=Object(n.useState)(""),$e=Object(u.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(n.useState)([]),nt=Object(u.a)(at,2),ot=nt[0],rt=nt[1],ct=Object(n.useState)([]),it=Object(u.a)(ct,2),lt=it[0],st=it[1],ut=Object(h.f)(),mt=Object(h.g)(),dt=localStorage.getItem("jwt"),pt=Ue<Te.length,gt=[],ft=function(){r(!1),f(!1),v(!1),We("")},ht=function(){I(!0)},bt=function(e){P(!!e)},_t=function(e){var t=e.target.name;H(Object(s.a)({},z,Object(l.a)({},t,e.target.validationMessage)))},Et=function(){P(!0),H({}),ft(),ne("Sign up"),r(!0)},vt=function(){a?(r(!1),f(!0),ne("Sign in")):p&&(f(!1),r(!0),ne("Sign up"))},wt=function(e,t){var a=Te.slice(e,t);gt=[].concat(Object(i.a)(Oe),Object(i.a)(a)),ke(gt)},St=function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");(t=e,fetch("".concat(te,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(ae).then(function(e){return e})).then(function(e){e?ie(!0):localStorage.removeItem("jwt")}).catch(function(e){return console.log(e)})}var t},jt=function(e){(function(e){var t=e.keyword,a=e.title,n=e.text,o=e.date,r=e.source,c=e.link,i=e.image;return fetch("".concat(te,"/articles"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify({keyword:t,title:a,text:n,date:o,source:r,link:c,image:i})}).then(ae)})({keyword:et,title:e.title,text:e.content,date:e.publishedAt,source:e.source.name,link:e.url,image:e.urlToImage}).then(function(e){Xe([e].concat(Object(i.a)(Qe)))}).catch(function(e){console.log(e)})},Nt=function(e){(function(e){var t=e.articleId;return fetch("".concat(te,"/articles/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(ae)})({articleId:e._id}).then(function(){Xe(function(t){return t.filter(function(t){return t._id!==e._id})})}).catch(function(e){console.log(e)})},yt=function(e){kt(e)?Nt(kt(e)):jt(e)},Ot=function(e){st(e)},kt=function(e){return Qe.find(function(t){return t.link===e.url})};return Object(n.useEffect)(function(){switch(ut.pathname){case"/":return me(!1),fe(!1),void je(!1);case"/saved-news":return me(!0),fe(!0),je(!1),void(!dt&&Et());default:return}},[ut,me,fe,je]),Object(n.useEffect)(function(){localStorage.getItem("jwt")&&ce&&(fetch("".concat(te,"/users/me"),{headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(ae).then(function(e){Ve(e.data)}).catch(function(e){console.log(e)}),fetch("".concat(te,"/articles"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(ae).then(function(e){Xe(e)}).catch(function(e){console.log(e)}))},[ce]),Object(n.useEffect)(function(){St()},[]),Object(n.useEffect)(function(){!function(){for(var e=Qe.map(function(e){return e.keyword}),t={},a=0;a<e.length;a++){var n=e[a];t[n]?t[n]+=1:t[n]=1}var o=Object.entries(t).sort(function(e,t){return t[1]-e[1]}).map(function(e){return e[0]});rt(o)}()},[Qe]),o.a.createElement(y.Provider,{value:Je},o.a.createElement("div",{className:"content"},o.a.createElement(O,{onSigninPopupClick:Et,loggedIn:ce,blackNavigator:ue,handleLogout:function(){ie(!1),mt("/"),localStorage.removeItem("jwt"),Ve({}),Xe([])},toggleMenu:Se,toggleNav:function(){je(!Se)}}),o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/",element:o.a.createElement(o.a.Fragment,null,o.a.createElement(x,{startLoadingNews:function(){Ee(!1),N(!0)},activateSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;localStorage.removeItem("news"),Fe(3),Be(!1),tt(e.search),function(e){var t=e.search;return fetch("".concat("https://nomoreparties.co/news/v2/everything","?q=").concat(t,"&sortBy=publishedAt&language=en&pageSize=").concat(100,"&apiKey=").concat("695064ce7e354fa982d3bae257a13646"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(ee)}({search:e.search}).then(function(e){localStorage.setItem("news",JSON.stringify(e.articles)),ke(JSON.parse(localStorage.getItem("news")).slice(t,a)),Le(JSON.parse(localStorage.getItem("news")))}).catch(function(e){console.log(e),Be(!0)}).finally(function(){N(!1),Ee(!0)})}}),_e&&0!==Oe.length&&o.a.createElement($,{onSigninPopupClick:Et,loggedIn:ce,newsArticles:Oe,showMoreResults:function(){wt(Ue,Ue+3),Fe(Ue+3)},showMoreButtonLogic:pt,handleBookmarkClick:yt,checkSavedArticle:kt,saveUnauthorizedUserCard:Ot}),0===Oe.length&&!j&&_e&&!Re&&o.a.createElement(V,{title:"Nothing found",text:"Sorry, but nothing matched your search terms.",nothingFoundIcon:d.a}),Re&&o.a.createElement(V,{title:"Server error",text:"Sorry, something went wrong during the request. There may be a connection issue or the server may be down. Please try again later.",nothingFoundIcon:g.a}),j&&o.a.createElement(Z,null),o.a.createElement(L,null),o.a.createElement(D,{isOpen:a,onClose:ft,onSwitch:vt,popupRedirectText:K,isLoadingText:T,startLoadingText:ht,formValidity:M,onFormUpdate:bt,errorMessage:z,onInputUpdate:_t,handleLoginSubmit:function(e,t){e&&t?function(e,t){return fetch("".concat(te,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then(function(e){if(200===e.status)return e.json();if(401===e.status)throw new Error("Email or password are incorrect");if(400===e.status)throw new Error("Some of the fields are invalid");if(500===e.status)throw new Error("Sorry, something went wrong during the request")}).then(function(e){return e.token?(localStorage.setItem("jwt",e.token),localStorage.setItem("email",t),e):void 0})}(e,t).then(function(e){e.token&&(ie(!0),ft(),I(!1))}).then(function(){0!==lt.length&&yt(lt)}).catch(function(e){We(e.message),I(!1),console.log(e)}).finally(function(){st([])}):console.log("Email or password are not correct")},popupServerError:Ge}),o.a.createElement(J,{isOpen:p,onClose:ft,onSwitch:vt,popupRedirectText:K,isLoadingText:T,startLoadingText:ht,formValidity:M,onFormUpdate:bt,errorMessage:z,onInputUpdate:_t,handleRegisterSubmit:function(e,t,a){(function(e,t,a){return fetch("".concat(te,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}).then(function(e){if(201===e.status)return e.json();if(409===e.status)throw new Error("This email is not available");if(400===e.status)throw new Error("Some of the fields are invalid");if(500===e.status)throw new Error("Sorry, something went wrong during the request")})})(e,t,a).then(function(e){e.data._id?(console.log("res OK"),ft(),v(!0)):console.log("Something went wrong.")}).catch(function(e){We(e.message),console.log(e)}).finally(function(){I(!1)})},popupServerError:Ge}),o.a.createElement(X,{isOpen:E,onClose:ft,openSignin:Et}))}),o.a.createElement(h.b,{path:"/saved-news",element:o.a.createElement(Q,{loggedIn:dt,path:"/"},o.a.createElement(o.a.Fragment,null,o.a.createElement(q,{cards:Qe,keywordsList:ot}),o.a.createElement(Y,{cards:Qe,savedCard:ge,handleDeleteArticles:Nt,checkSavedArticle:kt,saveUnauthorizedUserCard:Ot})))}),o.a.createElement(h.b,{path:"*",element:o.a.createElement(h.a,{to:"/",replace:!0})})),o.a.createElement(U,null)))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f.a,null,o.a.createElement(ne,null))))}],[[20,2,1]]]);
//# sourceMappingURL=main.40da772a.chunk.js.map